# 🚨 Anomaly Detection in Docker Container Logs

This project detects suspicious behavior by analyzing logs from a Flask-based web application running inside a Docker container. It uses both **rule-based detection** and **machine learning (Isolation Forest)** to identify anomalies.

---

## 📦 Project Structure

docker-log-anomaly/
├── docker-compose.yml # (optional) to run everything together
├── Dockerfile # Docker config for the Flask app
├── logs/
│ └── app.log # Logs generated by the Flask app
├── src/
│ ├── analyze_logs.py # Rule-based anomaly detection
│ └── ml_detect.py # ML-based anomaly detection using Isolation Forest
└── web-app/
└── app.py # Flask app that logs access requests


---

## 🚀 How It Works

1. A simple **Flask app** runs inside a Docker container and logs each request to `app.log`
2. You interact with the app using `curl` or a browser
3. Log entries are analyzed using:
   - `analyze_logs.py`: detects logs that don't match normal patterns
   - `ml_detect.py`: uses Isolation Forest to find statistical outliers

---

## 🛠️ How to Run

### 1. Clone the repository


git clone https://github.com/yourusername/docker-log-anomaly.git
cd docker-log-anomaly

### 2.Build and Run the Docker Container


docker build -t docker-web-app web-app/
docker run -d --name log-app -p 5000:5000 docker-web-app

### 3.Interact with the App:

curl http://localhost:5000/                     # Normal access
curl http://localhost:5000/admin                # Admin access
curl http://localhost:5000/suspicious/../../../etc/shadow  # Suspicious

### 4. Copy the Logs from Docker

docker cp log-app:/app/app.log ./logs/app.log

### 5. Run Anomaly Detection

  ## 🔍 Rule-Based
  cd src
  python analyze_logs.py

  ## 🧠 ML-Based
  python ml_detect.py

## 🤖 Tech Stack

🐳 Docker

🌐 Flask (Python)

📜 Logging

🧠 Scikit-learn (Isolation Forest)

📦 CountVectorizer (Text feature extraction)

## 📈 Sample Output
=== Anomalies Detected ===
2025-06-30 - Invalid path accessed: /suspicious/../../../etc/shadow - IP: 172.17.0.1

### 👨‍💻 Author
Adabala Padma Sri Lakshmi
Anomaly Detection using Docker container logs
B.Tech Computer Science & Engineering, 4th Year

## 📝 License

This project is licensed under the MIT License — feel free to use and modify it.  
See the [LICENSE](./LICENSE) file for details.




